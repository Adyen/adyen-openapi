{
   "openapi" : "3.1.0",
   "info" : {
      "version" : "3",
      "x-publicVersion" : true,
      "title" : "Management Webhooks",
      "description" : "Adyen uses webhooks to inform your system about events that happen with your Adyen company and merchant accounts, stores, payment terminals, and payment methods when using [Management API](https://docs.adyen.com/api-explorer/#/ManagementService/latest/overview).\n\nWhen an event occurs, Adyen makes an HTTP POST request to a URL on your server and includes the details of the event in the request body.\n\nSee [Webhooks](https://docs.adyen.com/development-resources/webhooks) for more information.",
      "termsOfService" : "https://www.adyen.com/legal/terms-and-conditions",
      "contact" : {
         "name" : "Adyen Developer Experience team",
         "url" : "https://github.com/Adyen/adyen-openapi"
      }
   },
   "x-groups" : [
      "Payment method"
   ],
   "tags" : [
      {
         "name" : "Payment method"
      }
   ],
   "x-staticResponse" : "response.json",
   "webhooks" : {
      "paymentMethod.created" : {
         "post" : {
            "tags" : [
               "Payment method"
            ],
            "summary" : "Payment method created",
            "description" : "A request to [add a payment method](https://docs.adyen.com/api-explorer/Management/latest/post/merchants/_merchantId_/paymentMethodSettings) was completed.",
            "x-addedInVersion" : "1",
            "operationId" : "post-paymentMethod.created",
            "x-groupName" : "Payment method",
            "x-sortIndex" : 1,
            "x-methodName" : "paymentMethodCreated",
            "security" : [
               {
                  "BasicAuth" : [
                     ]
               }
            ],
            "requestBody" : {
               "content" : {
                  "application/json" : {
                     "examples" : {
                        "paymentMethod.created" : {
                           "$ref" : "#/components/examples/post-paymentMethod.created-paymentMethod.created"
                        }
                     },
                     "schema" : {
                        "$ref" : "#/components/schemas/PaymentMethodCreatedNotificationRequest"
                     }
                  }
               }
            },
            "responses" : {
               "200" : {
                  "content" : {
                     "application/json" : {
                        "examples" : {
                           "paymentMethod.created" : {
                              "$ref" : "#/components/examples/WebhookAck"
                           }
                        },
                        "schema" : {
                           "$ref" : "#/components/schemas/PaymentMethodNotificationResponse"
                        }
                     }
                  },
                  "description" : "OK - the request has succeeded."
               }
            }
         }
      },
      "paymentMethod.requestRemoved" : {
         "post" : {
            "tags" : [
               "Payment method"
            ],
            "summary" : "Payment method request removed",
            "description" : "A request to add a payment method is removed. You must make another request to [add a payment method](https://docs.adyen.com/api-explorer/Management/latest/post/merchants/_merchantId_/paymentMethodSettings).",
            "x-addedInVersion" : "2",
            "operationId" : "post-paymentMethod.requestRemoved",
            "x-groupName" : "Payment method",
            "x-sortIndex" : 3,
            "x-methodName" : "paymentMethodRequestRemoved",
            "security" : [
               {
                  "BasicAuth" : [
                     ]
               }
            ],
            "requestBody" : {
               "content" : {
                  "application/json" : {
                     "examples" : {
                        "paymentMethod.requestRemoved" : {
                           "$ref" : "#/components/examples/post-paymentMethod.requestRemoved-paymentMethod.requestRemoved"
                        }
                     },
                     "schema" : {
                        "$ref" : "#/components/schemas/NotificationDataMessage"
                     }
                  }
               }
            },
            "responses" : {
               "200" : {
                  "content" : {
                     "application/json" : {
                        "examples" : {
                           "paymentMethod.requestRemoved" : {
                              "$ref" : "#/components/examples/WebhookAck"
                           }
                        },
                        "schema" : {
                           "$ref" : "#/components/schemas/PaymentMethodNotificationResponse"
                        }
                     }
                  },
                  "description" : "OK - the request has succeeded."
               }
            }
         }
      },
      "paymentMethod.requestScheduledForRemoval" : {
         "post" : {
            "tags" : [
               "Payment method"
            ],
            "summary" : "Payment method request scheduled for removal",
            "description" : "A request to [add a payment method](https://docs.adyen.com/api-explorer/Management/latest/post/merchants/_merchantId_/paymentMethodSettings) will be removed in 30 days. To make sure the payment method is added, provide the missing [KYC information](https://docs.adyen.com/marketplaces-and-platforms/collect-verification-details).",
            "x-addedInVersion" : "2",
            "operationId" : "post-paymentMethod.requestScheduledForRemoval",
            "x-groupName" : "Payment method",
            "x-sortIndex" : 2,
            "x-methodName" : "paymentMethodRequestScheduledForRemoval",
            "security" : [
               {
                  "BasicAuth" : [
                     ]
               }
            ],
            "requestBody" : {
               "content" : {
                  "application/json" : {
                     "examples" : {
                        "paymentMethod.requestScheduledForRemoval" : {
                           "$ref" : "#/components/examples/post-paymentMethod.requestScheduledForRemoval-paymentMethod.requestScheduledForRemoval"
                        }
                     },
                     "schema" : {
                        "$ref" : "#/components/schemas/NotificationDataMessage"
                     }
                  }
               }
            },
            "responses" : {
               "200" : {
                  "content" : {
                     "application/json" : {
                        "examples" : {
                           "paymentMethod.requestScheduledForRemoval" : {
                              "$ref" : "#/components/examples/WebhookAck"
                           }
                        },
                        "schema" : {
                           "$ref" : "#/components/schemas/PaymentMethodNotificationResponse"
                        }
                     }
                  },
                  "description" : "OK - the request has succeeded."
               }
            }
         }
      }
   },
   "components" : {
      "schemas" : {
         "MidServiceNotificationData" : {
            "properties" : {
               "allowed" : {
                  "description" : "Indicates whether receiving payments is allowed. This value is set to **true** by Adyen after screening your merchant account.",
                  "type" : "boolean"
               },
               "enabled" : {
                  "description" : "Indicates whether the payment method is enabled (**true**) or disabled (**false**).",
                  "type" : "boolean"
               },
               "id" : {
                  "description" : "The unique identifier of the resource.",
                  "type" : "string"
               },
               "merchantId" : {
                  "description" : "The unique identifier of the merchant account.",
                  "type" : "string"
               },
               "reference" : {
                  "description" : "Your reference for the payment method.",
                  "type" : "string"
               },
               "status" : {
                  "x-addedInVersion" : "2",
                  "description" : "The status of the request to add a payment method. Possible values:\n\n* **success**: the payment method was added.\n* **failure**: the request failed.\n* **dataRequired**: the request is in a draft state because the required KYC data are missing. To check what data are missing, [get the details of the legal entity](https://docs.adyen.com/api-explorer/legalentity/latest/get/legalEntities/_id_).\n* **capabilityPending**: the **receivePayments** capability is not allowed.\n* **updatesExpected**: the **receivePayments** capability is not allowed and the required KYC data are missing. To check what data are missing, [get the details of the legal entity](https://docs.adyen.com/api-explorer/legalentity/latest/get/legalEntities/_id_).",
                  "enum" : [
                     "success",
                     "failure",
                     "capabilityPending",
                     "dataRequired",
                     "updatesExpected"
                  ],
                  "type" : "string"
               },
               "storeId" : {
                  "description" : "The unique identifier of the [store](https://docs.adyen.com/api-explorer/#/ManagementService/latest/post/merchants/{id}/paymentMethodSettings__reqParam_storeId), if any.",
                  "type" : "string"
               },
               "type" : {
                  "description" : "Payment method [variant](https://docs.adyen.com/development-resources/paymentmethodvariant#management-api).",
                  "type" : "string"
               },
               "verificationStatus" : {
                  "description" : "Payment method status. Possible values:\n* **valid**\n* **pending**\n* **invalid**\n* **rejected**",
                  "enum" : [
                     "valid",
                     "pending",
                     "invalid",
                     "rejected"
                  ],
                  "type" : "string"
               }
            },
            "required" : [
               "status",
               "merchantId",
               "id",
               "type"
            ],
            "type" : "object"
         },
         "NotificationDataMessage" : {
            "properties" : {
               "createdAt" : {
                  "description" : "Timestamp for when the webhook was created.",
                  "format" : "date-time",
                  "type" : "string"
               },
               "data" : {
                  "description" : "Contains event details.",
                  "$ref" : "#/components/schemas/MidServiceNotificationData"
               },
               "environment" : {
                  "description" : "The environment from which the webhook originated.\n\nPossible values: **test**, **live**.",
                  "type" : "string"
               },
               "type" : {
                  "description" : "Type of notification.",
                  "type" : "string"
               }
            },
            "required" : [
               "type",
               "environment",
               "createdAt",
               "data"
            ],
            "type" : "object"
         },
         "PaymentMethodCreatedNotificationRequest" : {
            "properties" : {
               "createdAt" : {
                  "description" : "Timestamp for when the webhook was created.",
                  "format" : "date-time",
                  "type" : "string"
               },
               "data" : {
                  "description" : "Contains event details.",
                  "$ref" : "#/components/schemas/MidServiceNotificationData"
               },
               "environment" : {
                  "description" : "The environment from which the webhook originated.\n\nPossible values: **test**, **live**.",
                  "type" : "string"
               },
               "type" : {
                  "description" : "Type of notification.",
                  "enum" : [
                     "paymentMethod.created"
                  ],
                  "type" : "string"
               }
            },
            "required" : [
               "environment",
               "createdAt",
               "data",
               "type"
            ],
            "type" : "object"
         },
         "PaymentMethodNotificationResponse" : {
            "properties" : {
               "notificationResponse" : {
                  "description" : "Respond with **HTTP 200 OK** and `[accepted]` in the response body to [accept the webhook](https://docs.adyen.com/development-resources/webhooks#accept-notifications).",
                  "type" : "string"
               }
            },
            "type" : "object"
         }
      },
      "securitySchemes" : {
         "BasicAuth" : {
            "scheme" : "basic",
            "type" : "http"
         }
      },
      "examples" : {
         "WebhookAck" : {
            "summary" : "Acknowledge Webhook",
            "value" : {
               "notificationResponse" : "[accepted]"
            }
         },
         "post-paymentMethod.created-paymentMethod.created" : {
            "summary" : "Payment method Visa created",
            "value" : {
               "createdAt" : "2022-01-24T14:59:11+01:00",
               "data" : {
                  "id" : "PM3224R223224K5FH4M2K9B86",
                  "merchantId" : "MERCHANT_ACCOUNT",
                  "status" : "success",
                  "storeId" : "ST322LJ223223K5F4SQNR9XL5",
                  "type" : "visa"
               },
               "environment" : "test",
               "type" : "paymentMethod.created"
            }
         },
         "post-paymentMethod.requestRemoved-paymentMethod.requestRemoved" : {
            "summary" : "Payment method request is removed",
            "value" : {
               "type" : "paymentMethod.requestRemoved",
               "environment" : "devl",
               "createdAt" : "2023-06-12T18:59:17+02:00",
               "data" : {
                  "id" : "PM322WP223224M5HJ6PX77BW8",
                  "storeId" : "TestStore",
                  "type" : "amex",
                  "status" : "dataRequired",
                  "merchantId" : "TestMerchant",
                  "enabled" : false
               }
            }
         },
         "post-paymentMethod.requestScheduledForRemoval-paymentMethod.requestScheduledForRemoval" : {
            "summary" : "Payment method request scheduled for removal",
            "value" : {
               "type" : "paymentMethod.requestScheduledForRemoval",
               "environment" : "devl",
               "createdAt" : "2023-06-12T19:02:42+02:00",
               "data" : {
                  "id" : "PM322WP223224M5HJ6PX77BW8",
                  "storeId" : "TestStore",
                  "type" : "visa",
                  "status" : "updatesExpected",
                  "merchantId" : "TestMerchant",
                  "enabled" : false
               }
            }
         }
      }
   }
}